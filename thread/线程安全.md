# 线程安全
1. 同意进程中的多个线程共享该进程中的全部资源
2. 多个线程访问同一共享资源的时候会发生冲突
### 顺序性
程序按照代码的先后顺序执行.
CPU为了提高程序整体的执行效率, 可能会对代码进行优化, 按更高效的顺序执行
CPU不能保证完全按照代码顺序执行, 但会保证最终结果和代码顺序执行结果一致
### 可见性
线程操作共享变量时, 会将变量从内存中加载到cache中, 修改该变量后, 
CPU会立即更新cache, 但不一定会将其写回内存, 
如果这个时候, 其他线程访问该变量, 从内存中读到是旧数据,
可见性 : 多个线程并发访问共享变量时, 一个线程对共享变量的修改, 其他线程能够立即看到
### 原子性 
一个操作(有可能包含多个步骤)要么全部执行(生效), 要么全部都不执行(都不生效) 
## 保证线程安全
### volatile 关键字
1. 保证内存变量的可见性
2. 禁止代码优化(重排序)
### 原子操作(原子类型)
### 线程同步(锁)
